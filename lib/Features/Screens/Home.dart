import 'package:confetti/confetti.dart';import 'package:flutter/material.dart';import 'package:provider/provider.dart';import 'package:taskio/Features/Components/BottomBar.dart';import 'package:taskio/Features/Components/ColorPalate.dart';import 'package:taskio/Features/Components/CompletedTaskWidget.dart';import 'package:taskio/Features/Components/Ongoing_Task_Widget.dart';import 'package:taskio/Provider/pageSwitchProvider.dart';import '../../Provider/animationProvider.dart';import '../Components/DayDisplay.dart';import '../Components/Upcoming_Task_Widget.dart';class HomeScreen extends StatefulWidget {  const HomeScreen({super.key});  @override  State<HomeScreen> createState() => _HomeScreenState();}class _HomeScreenState extends State<HomeScreen> {  @override  Widget build(BuildContext context) {    final confettiProvider = Provider.of<ConfettiProvider>(context, listen: false);    double height = MediaQuery.of(context).size.height;    double width = MediaQuery.of(context).size.height;    final pageSwitchProvider = Provider.of<PageSwitchProvider>(context);    return SafeArea(      child: GestureDetector(        onTap: (){          FocusScope.of(context).unfocus();        },          child: Scaffold(        appBar: AppBar(          leading: Icon(            Icons.menu,            color: Colors.white,          ),          title: DayDisplay(),          elevation: 0,          backgroundColor: scaffoldBackgroundColor,        ),        backgroundColor: scaffoldBackgroundColor,        body:Stack(          children: [            Column(              children: [                // TOP SCROLLABLE CONTENT                Expanded(                  child: SingleChildScrollView(                    keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.onDrag,                    child: Column(                      crossAxisAlignment: CrossAxisAlignment.start,                      children: [                        const SizedBox(height: 10),                        Padding(                          padding: const EdgeInsets.symmetric(horizontal: 10),                          child: Row(                            children: [                              Text(                                'Ongoing Task',                                style: TextStyle(                                    color: Colors.white,                                    fontSize: 24,                                    fontFamily: 'Cagody'),                              ),                            ],                          ),                        ),                        const SizedBox(height: 10),                        OnGoingTaskSection(),                        const SizedBox(height: 10),                        Divider(                          color: Colors.grey[500],                          indent: 10,                          endIndent: 10,                        ),                        const SizedBox(height: 10),                        SizedBox(                            height: 30,                            child: Row(                              mainAxisAlignment: MainAxisAlignment.spaceAround,                              children: [                                InkWell(                                  onTap: () {                                    pageSwitchProvider.switchToUpcoming();                                  },                                  splashColor: Colors.transparent,                                  highlightColor: Colors.transparent,                                  child: Text('Upcoming Tasks',                                      style: TextStyle(                                          color: pageSwitchProvider.isUpcoming?Colors.white70:Colors.white38,                                          fontFamily: 'Cagody',                                          fontSize: pageSwitchProvider.isUpcoming?18:15,                                          fontWeight: pageSwitchProvider.isUpcoming?FontWeight.bold:FontWeight.normal)),                                ),                                VerticalDivider(                                  color: Colors.grey[500],                                ),                                InkWell(                                    onTap: () {                                      pageSwitchProvider.switchToCompleted();                                    },                                    splashColor: Colors.transparent,                                    highlightColor: Colors.transparent,                                    child: Text(                                      'Completed Tasks',                                      style:TextStyle(                                          color: !pageSwitchProvider.isUpcoming?Colors.white70:Colors.white38,                                          fontFamily: 'Cagody',                                          fontSize: !pageSwitchProvider.isUpcoming?18:15,                                          fontWeight: !pageSwitchProvider.isUpcoming?FontWeight.bold:FontWeight.normal),                                    ))                              ],                            )),                        const SizedBox(height: 10),                        Container(                          color: scaffoldBackgroundColor,                          height: height * 0.43,                          child: pageSwitchProvider.isUpcoming                              ? UpcomingTaskWidget()                              : CompletedTaskWidget(),                        ),                        const SizedBox(height: 20),                      ],                    ),                  ),                ),                // BOTTOM BLUE CONTAINER                BottomBar(),              ],            ),            Positioned(              top: height*0.20,              left: width*0.25,              child: IgnorePointer( // makes sure the confetti does not block interactions                child: ConfettiWidget(                  confettiController: confettiProvider.controller,                  blastDirectionality: BlastDirectionality.explosive,                  shouldLoop: false,                  numberOfParticles: 100,                  gravity: 0.3,                ),              ),            ),          ],        )      )),    );  }}